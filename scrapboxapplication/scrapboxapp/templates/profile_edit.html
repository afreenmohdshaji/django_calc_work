{%extends 'base.html'%}
{%load static%}
{%block body_block%}
    <head>
        <title>Update Profile</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="{%static 'scrapbox/css/profile_edit.css'%}">
    </head>
    <body style="background: #6e6c6d;">
        <div class="vh-100 container d-flex flex-column justify-content-center align-items-center">
            <div>
                <h1 class="text-white fw-bold mt-2">Update Your Profile</h1>
            </div>
            <form action="" method="post" enctype="multipart/form-data" class="border-0 rounded-3 form-control p-0 w-50 shadow">
    
                {% csrf_token %}
                
    
                <div class="text-center bg-black rounded-top-3 rounded-bottom-0 pb-3">
                    <!-- Profile pic change start -->
                    <label for="fileToUpload">
                        <div class="p-3">
                            {% if form.profile_pic.value %}
                            <img class="profile-small profile-pic shadow" src="{{ form.profile_pic.value.url }}" alt="Avatar" style="border-radius: 50%; background-color: rgb(68, 68, 68);">
                            {% else %}
                            <img class="profile-small profile-pic shadow" src="{% static 'scrapbox/images/profilepic.png' %}" alt="Avatar" style="border-radius: 50%; background-color: rgb(68, 68, 68);">
                            {% endif %}
                            <input type="file" name="profile_pic" id="fileToUpload">
                            <span class="glyphicon glyphicon-camera"></span>
                        </div>
                    </label>
                    <!-- Profile pic change end -->
                    <div class="text-white fw-bold">
                        Edit your profile
                    </div>
                </div>
    
                <div class="p-4">
                    <div class="row">
                        <div class="mb-4 col-md-6">
                            <input type="text" name="first_name" value="{{ form.first_name.value }}" class="form-control" placeholder="First Name">
                        </div>
                        <div class="mb-4 col-md-6">
                            <input type="text" name="last_name" value="{{ form.last_name.value }}" class="form-control" placeholder="Last Name">
                        </div>
                    </div>
                    <div class="mb-4">
                        <input type="text" name="address" value="{{ form.address.value }}" class="form-control" placeholder="Address">
                    </div>
                    
                    <div class="mb-4">
                        <input type="number" name="phone" value="{{ form.phone.value }}" class="form-control" placeholder="Phone">
                    </div>
    
                    <div class="text-center">
                        <button type="submit" class="btn btn-dark form-control w-50">Edit</button>
                    </div>
                </div>
            </form>
            {% if form.errors %}
                <div class="alert alert-danger" role="alert">
                <strong>Error(s):</strong>
                <ul>
                {% for field, errors in form.errors.items %}
                    {% for error in errors %}
                        <li>{{ field|title }}: {{ error }}</li>
                    {% endfor %}
                {% endfor %}
                </ul>
                </div>
            {% endif %}
        </div>
</body>
</html>
{%endblock%}